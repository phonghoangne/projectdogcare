<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Petpal - Pet Care and Pet Shop HTML Template</title>
    <meta name="description" content="Petpal - Pet Care and Pet Shop HTML Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <th:block th:replace="fragmentCss :: commonStyles"></th:block>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>/* Basic reset and box sizing */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Arial', sans-serif;
        background-color: #f7f7f7;
        color: #333;
        line-height: 1.6;
    }

    /* Container chung của giỏ hàng */
    .cart-container {
        width: 85%;
        margin: 40px auto;
        padding: 20px;
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Tiêu đề trống giỏ hàng */
    .empty-cart {
        text-align: center;
        padding: 50px 0;
        font-size: 20px;
        color: #888;
        font-style: italic;
    }

    /* Bảng sản phẩm */
    table {
        width: 100%;
        border-collapse: collapse;
        background-color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    th, td {
        padding: 15px;
        text-align: center;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #002169;
        color: white;
        font-size: 16px;
        text-transform: uppercase;
        letter-spacing: 1px;
        border-top: none;
    }

    td {
        font-size: 14px;
    }

    tr:hover {
        background-color: #f1f1f1;
    }

    td a {
        color: #f44336;
        text-decoration: none;
        font-weight: bold;
        font-size: 14px;
    }

    td a:hover {
        text-decoration: underline;
        color: #d32f2f;
    }

    /* Phần nút tăng giảm số lượng */
    .quantity-btns {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .quantity-btns button {
        background-color: #894b8d;
        color: white;
        border: none;
        padding: 8px 10px;
        font-size: 14px;
        font-weight: bold;
        cursor: pointer;
        width: 35px;
        height: 35px;
        border-radius: 5px;
        transition: all 0.2s ease-in-out;
    }

    .quantity-btns button:hover {
        transform: scale(1.1);
        background-color: #4a2269;
    }

    .quantity-btns input {
        text-align: center;
        font-size: 14px;
        font-weight: bold;
        width: 45px;
        height: 35px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    /* Định dạng chung cho toàn bộ bill */
    .bill {
        margin-top: 30px;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* Bố cục khung bao ngoài */
    .bill__wrapper {
        display: flex;
        justify-content: space-between; /* Khối trái phải nằm 2 bên */
        gap: 20px;
    }

    /* Khối bên trái: mã giảm giá */
    .bill__left {
        width: 48%; /* Chiếm 48% chiều rộng container */
        background-color: #ffffff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Tiêu đề khối bên trái */
    .bill__container-title h3 {
        font-size: 18px;
        margin-bottom: 10px;
        color: #444;
        text-transform: uppercase;
        border-bottom: 2px solid #ddd;
        padding-bottom: 5px;
    }

    /* Input và Button mã giảm giá */
    .bill__container-voucher {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .bill__container-voucher input {
        flex: 1;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        color: #666;
    }

    .bill__container-voucher button {
        background-color: #d32f2f;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 14px;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .bill__container-voucher button:hover {
        background-color: #b71c1c;
    }

    /* Khối bên phải: tổng giỏ hàng */
    .bill__right {
        width: 48%; /* Chiếm 48% chiều rộng container */
        background-color: #ffffff;
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Nội dung tổng giỏ hàng */
    .bill__container-total-content {
        margin-top: 15px;
    }

    .bill__container-total-content-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-size: 16px;
        color: #555;
    }

    .bill__container-total-content-item-title {
        font-weight: bold;
        color: #333;
    }

    .bill__container-total-content-item-price {
        font-weight: bold;
        color: #000;
    }

    /* Nút đặt hàng */
    .btn__order {
        width: 100%;
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 15px;
        font-size: 16px;
        margin-top: 20px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn__order:hover {
        background-color: #388e3c;
    }

    .btn__order:active {
        transform: scale(0.98);
    }

    /* Nút checkout */
    .checkout-btn {
        background-color: #002169;
        color: white;
        border: none;
        padding: 15px 25px;
        margin-top: 20px;
        font-size: 18px;
        display: inline-block;
        text-align: center;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out;
    }

    .checkout-btn:hover {
        background-color: #1a1a82;
    }</style>

</head>

<body>
<!-- Header -->
<th:block th:replace="~{header.html :: headerF}"></th:block>

<div class="cart-container">
    <div th:if="${listCart == null}" class="empty-cart">
        <p th:text="#{cart.empty}"></p>
    </div>

    <table th:if="${listCart != null}">
        <thead>
        <tr>
            <th class="table__product">sản phẩm</th>
            <th class="table__quantity">số lượng</th>
            <th class="table__price">giá</th>
            <th class="table__total">tổng</th>
            <th class="table__action">action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item: ${listCart}">
            <td th:text="${item.productName}"></td>
            <td>
                <div class="quantity-btns">
                    <button th:onclick="|window.location.href='@{/app/cart/updateQuantity(cartId=${item.id},customerId=1,quantity=${item.quantity-1})}'|">-</button>
                    <input type="text" th:value="${item.quantity}" disabled />
                    <button th:onclick="|window.location.href='@{/app/cart/updateQuantity(cartId=${item.id},customerId=1,quantity=${item.quantity+1})}'|">+</button>
                </div>
            </td>
            <td th:text="${item.price}"></td>
            <td th:text="${item.totalPrice}"></td>
            <td>
                <a th:href="@{/app/cart/delete(cartId=${item.id},customerId=1)}">delete</a>
            </td>
        </tr>
        </tbody>
    </table>
    <section class="bill">
        <div class="container">
            <div class="bill__wrapper">
                <!-- Khối bên trái: Mã giảm giá -->
                <div class="bill__left">
                    <div class="bill__container-title">
                        <h3>Mã giảm giá</h3>
                    </div>
                    <div class="bill__container-voucher">
                        <input type="text" class="input-voucher" placeholder="Enter your coupon code">
                        <button class="btn-voucher">
                            Áp dụng
                        </button>
                    </div>
                </div>

                <!-- Khối bên phải: Tổng giỏ hàng -->
                <div class="bill__right">
                    <div class="bill__container-title">
                        <h3>Tổng giỏ hàng</h3>
                    </div>

                    <div class="bill__container-total-content">
                        <div class="bill__container-total-content-item">
                            <div class="bill__container-total-content-item-title">
                                Tạm tính
                            </div>
                            <div class="bill__container-total-content-item-price">
                                <span th:text="${#numbers.formatDecimal(priceTotalCart, 0, 'COMMA', 0, 'POINT')}"></span> ￥
                            </div>
                        </div>

                        <div class="bill__container-total-content-item">
                            <div class="bill__container-total-content-item-title">
                                Phí vận chuyển
                            </div>
                            <div class="bill__container-total-content-item-price">
                                0 ￥
                            </div>
                        </div>

                        <div class="bill__container-total-content-item">
                            <div class="bill__container-total-content-item-title">
                                Tổng cộng
                            </div>
                            <div class="bill__container-total-content-item-price">

                                <span th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 0, 'POINT')}"></span> ￥
                            </div>
                        </div>

                        <div class="bill__container-total-btn">
                            <button class="btn__order" onclick="Payment()">
                                Đặt hàng
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


</div>

<!-- Footer -->
<div th:insert="footer :: footer"></div>
<th:block th:replace="fragmentJs :: fraScripts"></th:block>

<!-- JavaScript -->
<script src="assets/js/scripts.js"></script> <!-- Your main JS file -->
</body>

</html>