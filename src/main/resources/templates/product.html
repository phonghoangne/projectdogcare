<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Petpal - Pet Care and Pet Shop HTML Template</title>
    <meta name="description" content="Petpal - Pet Care and Pet Shop HTML Template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <th:block th:replace="fragmentCss :: commonStyles"></th:block>
</head>

<body>

<!--Preloader-->
<div id="preloader">
    <div id="loader" class="loader">
        <div class="loader-container">
            <div class="loader-icon"><img th:src="@{/img/logo/preloader.svg}" alt="Preloader"></div>
        </div>
    </div>
</div>
<!--Preloader-end -->

<!-- Scroll-top -->
<button class="scroll__top scroll-to-target" data-target="html">
    <i class="fas fa-angle-up"></i>
</button>
<!-- Scroll-top-end-->


<th:block th:replace="~{header.html :: headerF}"></th:block>

<!-- main-area -->
<main class="fix">

    <!-- breadcrumb-area -->
    <section class="breadcrumb__area fix">
        <div class="container">
            <div class="row align-items-end">
                <div class="col-lg-8">
                    <div class="breadcrumb__content">
                        <h3 class="title">All Products</h3>
                        <nav class="breadcrumb">
                                <span property="itemListElement" typeof="ListItem">
                                    <a href="index.html">Home</a>
                                </span>
                            <span class="breadcrumb-separator"><i class="fa-solid fa-angle-right"></i></span>
                            <span property="itemListElement" typeof="ListItem">All Products</span>
                        </nav>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="breadcrumb__img">
                        <img th:src="@{/img/images/breadcrumb_img.png}" alt="img" data-aos="fade-left" data-aos-delay="800">
                    </div>
                </div>
            </div>
        </div>
        <div class="breadcrumb__shape-wrap">
            <img th:src="@{/img/images/breadcrumb_shape01.png}" alt="img" data-aos="fade-down-right" data-aos-delay="400">
            <img th:src="@{/img/images/breadcrumb_shape02.png}" alt="img" data-aos="fade-up-left" data-aos-delay="400">
        </div>
    </section>
    <!-- breadcrumb-area-end -->

    <!-- product-area -->
    <section class="product__area-four">
        <div class="container">
            <div class="search-bar mb-4">
                <form action="/products/search" method="GET" id="searchForm">
                    <div class="input-group">
                        <input type="text" class="form-control" name="name" placeholder="Search products...">
                        <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                </form>
            </div>

            <div class="row gutter-20 row-cols-1 row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-sm-2 justify-content-center">
                <div class="col" th:each="item:${dataProduct.data}">
                    <div class="product__item">
                        <div class="product__thumb">
                            <a href="product-details.html"><img th:src="@{http://localhost:8080/uploads/__${item.image}__}" alt="img"></a>
                            <div class="product__action">
                                <a href="product-details.html"><i class="fa-regular fa-heart"></i></a>
                                <a href="product-details.html"><i class="fa-solid fa-magnifying-glass"></i></a>
                                <a href="product-details.html"><i class="fa-solid fa-right-left"></i></a>
                            </div>
                            <div class="sale-wrap">
                                <span>New</span>
                            </div>
                            <div class="product__add-cart">
                                <a href="product-details.html" class="btn"><i class="fa-solid fa-cart-shopping"></i>Add To Cart</a>
                            </div>
                        </div>
                        <div class="product__content">
                            <div class="product__reviews">
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span>(2 Reviews)</span>
                            </div>
                            <h4 class="title"><a href="product-details.html"><span th:text="${item.productName}"></span></a></h4>
                            <h3 class="price">$12.00 <del>$25.00</del></h3>
                        </div>
                    </div>
                </div>

            </div>
            <nav class="pagination__wrap mt-50">
                <ul class="list-wrap">
                    <li class="link-arrow" id="p_first-arrow" >
                        <a th:href="@{/app/products(page=${currentPage - 1})}" th:disabled="${currentPage == 1}">
                            <img th:src="@{/img/images/left-2-svgrepo-com.svg}" alt="" class="injectable">
                        </a>
                    </li>

                    <li th:each="i : ${#numbers.sequence(0,(totalPage - 1) )}"  th:classappend="${currentPage == i ? 'active':''}">
                        <a th:href="@{/app/products(page=${i})}" th:text="${(i+1)}"></a>
                    </li>

                    <li class="link-arrow" id="p_last-arrow"  >
                        <a th:href="@{/app/products(page=${currentPage+1})}" th:disabled="${currentPage == totalPage}">
                            <img th:src="@{/img/images/right-2-svgrepo-com.svg}" alt="" class="injectable">
                        </a>
                    </li>

                </ul>
            </nav>
        </div>
    </section>
    <!-- product-area-end -->


</main>
<!-- main-area-end -->


<!-- footer-area -->
<div th:insert="footer :: footer"></div>
<!-- footer-area-end -->


<!-- JS here -->
<th:block th:replace="fragmentJs :: fraScripts"></th:block>
<script>
    SVGInject(document.querySelectorAll("img.injectable"));
</script>

<script th:inline="javascript">
    var data = [[${dataProduct}]];
    console.log(data)

    var checkPagination = [[${currentPage}]]
    var totalPage = [[${totalPage}]]
    console.log(checkPagination)
    if(checkPagination === 0)
    {
        document.getElementById("p_first-arrow").style.display = 'none';
    }else if(checkPagination  === (totalPage -1 ) )
    {
        document.getElementById("p_last-arrow").style.display = 'none';
    }else{
        document.getElementById("p_first-arrow").style.display = 'block';
        document.getElementById("p_last-arrow").style.display = 'block';
    }
</script>

<script>
    function redirectToLink() {
        const select = document.getElementById('course-cat');
        const selectedOption = select.options[select.selectedIndex];
        const link = selectedOption.getAttribute('data-link');

        if (link) {
            window.location.href = link;
        }
    }
</script>
</body>

</html>